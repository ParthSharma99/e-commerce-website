{"version":3,"sources":["Components/ItemContainer.jsx","api/api.js","constants.js","Components/ItemList.jsx","Components/SearchBox.jsx","Components/CartItem.jsx","Components/ErrorBoundary.jsx","Components/Cart.jsx","Containers/App.js","actions.js","reducers.js","index.js"],"names":["ItemContainer","item","addRemoveCartItem","useState","cnt","setCnt","className","src","image","title","slice","Math","min","length","onClick","icon","faCartPlus","price","apiCall","link","fetch","then","response","json","CHANGE_SEARCHFIELD","REQUEST_ITEMS_PENDING","REQUEST_ITEMS_SUCCESS","ADD_ITEMS","REMOVE_ITEMS","ItemList","items","cartItems","map","user","i","SearchBox","searchfield","searchChange","setShowCart","placeholder","onChange","faShoppingCart","CartItem","Component","count","Cart","totalPrice","connect","state","searchField","searchItems","requestItems","isPending","dispatch","onSearchChange","event","text","target","value","type","constants","payload","onRequestItems","data","catch","error","mode","addRemoveCart","onRequestItemById","id","requestItemById","showCart","useEffect","filteredItems","filter","toLowerCase","includes","style","color","faHome","class-name","left","top","right","bottom","initialStateSearch","initialStateItems","initialStateItem","initialStateCart","logger","createLogger","rootReducer","combineReducers","action","Object","assign","idx","indexOf","temp","remove_idx","remove_temp","store","createStore","applyMiddleware","thunkMiddleware","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.368b0c0f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faCartPlus } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst ItemContainer = ({ item, addRemoveCartItem }) => {\r\n  const countOccurences = (arr, val) => {\r\n    return arr.reduce((acc, elem) => {\r\n      return val === elem ? acc + 1 : acc;\r\n    }, 0);\r\n  };\r\n\r\n  const [cnt, setCnt] = useState(0);\r\n\r\n  return (\r\n    <div className=\"item-wrapper\">\r\n      <img src={item.image} className=\"item-image\" />\r\n      <div className=\"item-title\">\r\n        {item.title.slice(0, Math.min(item.title.length, 50))}\r\n      </div>\r\n      <button\r\n        className=\"item-price\"\r\n        onClick={() => {\r\n          addRemoveCartItem(\"ADD\", item);\r\n          setCnt(cnt + 1);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faCartPlus} /> ${item.price}\r\n        <sup className=\"in-cart-cnt\">{cnt}</sup>\r\n      </button>\r\n      {/* {cnt ? <span>In Cart : {cnt}</span> : <span>Not In Cart</span>} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemContainer;\r\n","export const apiCall = (link) =>\r\nfetch(link).then(response => response.json())","export const CHANGE_SEARCHFIELD = 'CHANGE_SEARCHFIELD';\r\n\r\nexport const REQUEST_ITEMS_PENDING = 'REQUEST_ITEMS_PENDING';\r\nexport const REQUEST_ITEMS_SUCCESS = 'REQUEST_ITEMS_SUCCESS';\r\nexport const REQUEST_ITEMS_FAILED = 'REQUEST_ITEMS_FAILED';\r\n\r\nexport const ADD_ITEMS = \"ADD_ITEMS\";\r\nexport const REMOVE_ITEMS = \"REMOVE_ITEMS\";","import React from \"react\";\r\nimport ItemContainer from \"./ItemContainer\";\r\nimport Card from \"./ItemContainer\";\r\n\r\nconst ItemList = ({ items, addRemoveCartItem, cartItems }) => {\r\n  return (\r\n    <div className=\"item-list-wrapper\">\r\n      {items.map((user, i) => {\r\n        return (\r\n          <ItemContainer\r\n            key={i}\r\n            item={items[i]}\r\n            addRemoveCartItem={addRemoveCartItem}\r\n            cartItems={cartItems}\r\n          />\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ItemList;\r\n","import React from \"react\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faShoppingCart } from \"@fortawesome/free-solid-svg-icons\";\r\n\r\nconst SearchBox = ({ searchfield, searchChange, cartItems, setShowCart }) => {\r\n  return (\r\n    <div className=\"search-wrapper\">\r\n      <input\r\n        className=\"search-bar\"\r\n        placeholder=\"Search items\"\r\n        onChange={searchChange}\r\n      />\r\n      <span className=\"cart-count noselect\" onClick={() => setShowCart(true)}>\r\n        <FontAwesomeIcon icon={faShoppingCart} /> <sup>{cartItems.length}</sup>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React, { useEffect, useState } from \"react\";\r\n\r\nconst CartItem = ({ item, addRemoveCartItem }) => {\r\n  const countOccurences = (arr, val) => {\r\n    return arr.reduce((acc, elem) => {\r\n      return val === elem ? acc + 1 : acc;\r\n    }, 0);\r\n  };\r\n\r\n  const [cnt, setCnt] = useState(0);\r\n\r\n  return (\r\n    <div className=\"item-wrapper\">\r\n      <img src={item.image} className=\"item-image\" />\r\n      <div className=\"item-title\">\r\n        {item.title.slice(0, Math.min(item.title.length, 50))}\r\n      </div>\r\n      <div>\r\n        <button\r\n          className=\"cart-remove-button\"\r\n          onClick={() => addRemoveCartItem(\"REMOVE\", item)}\r\n        >\r\n          {\" \"}\r\n          -{\" \"}\r\n        </button>\r\n\r\n        <span className=\"cart-count-counter\">{item.count}</span>\r\n        <button\r\n          className=\"cart-add-button\"\r\n          onClick={() => addRemoveCartItem(\"ADD\", item)}\r\n        >\r\n          {\" \"}\r\n          +{\" \"}\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CartItem;\r\n","import React, { Component } from \"react\";\r\nclass ErrorBoundary extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { hasError: false };\r\n  }\r\n\r\n  componentDidCatch(error, info) {\r\n    this.setState({ hasError: true });\r\n  }\r\n\r\n  render() {\r\n    if (this.state.hasError) {\r\n      return <h1>Something went wrong.</h1>;\r\n    }\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default ErrorBoundary;\r\n","import { React, useState, useEffect } from \"react\";\r\nimport ItemContainer from \"./ItemContainer\";\r\nimport CartItem from \"./CartItem\";\r\n\r\nconst Cart = ({ cartItems, addRemoveCartItem, totalPrice }) => {\r\n  return (\r\n    <div className=\"item-list-wrapper\">\r\n      {cartItems.map((user, i) => {\r\n        return (\r\n          <CartItem\r\n            key={i}\r\n            item={cartItems[i]}\r\n            addRemoveCartItem={addRemoveCartItem}\r\n          />\r\n        );\r\n      })}\r\n      <span className=\"total-price\">\r\n        Total Price : <span>$ {totalPrice}</span>\r\n      </span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Cart;\r\n","import './App.css';\nimport ItemContainer from '../Components/ItemContainer';\nimport {React, useState, useEffect} from \"react\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faHome } from \"@fortawesome/free-solid-svg-icons\";\n\nimport { connect } from 'react-redux';\nimport { setSearchField, requestItems,addRemoveCart, requestItemById } from '../actions';\n\nimport ItemList from '../Components/ItemList';\nimport SearchBox from '../Components/SearchBox';\nimport ErrorBoundry from '../Components/ErrorBoundary';\nimport Cart from '../Components/Cart';\n\n// parameter state comes from index.js provider store state(rootReducers)\nconst mapStateToProps = (state) => {\n  return {\n    searchField: state.searchItems.searchField,\n    items: state.requestItems.items,\n    isPending: state.requestItems.isPending,\n    cartItems: state.cartItems.cartItems,\n    totalPrice: state.cartItems.totalPrice\n  }\n}\n\n// dispatch the DOM changes to call an action. note mapStateToProps returns object, mapDispatchToProps returns function\n// the function returns an object then uses connect to change the data from redecers.\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSearchChange: (event) => dispatch(setSearchField(event.target.value)),\n    onRequestItems: () => dispatch(requestItems()),\n    addRemoveCartItem: (mode,item) => dispatch(addRemoveCart(mode,item)),\n    onRequestItemById: (id) => dispatch(requestItemById(id)),\n\n  }\n}\n\n\nconst App = ({ items, searchField, onSearchChange, isPending, onRequestItems, cartItems,addRemoveCartItem, totalPrice }) => {\n\n  const [showCart, setShowCart] = useState(false);\n\n  useEffect(()=>{\n    onRequestItems();\n  },[]);\n\n\n  const filteredItems = items.filter(item =>{\n    return item.title.toLowerCase().includes(searchField.toLowerCase());\n  })\n\n  return (\n    <div className=\"main\">\n      <div className=\"main-wrapper\">\n        {\n          isPending ? \n          <div>\n            <div className=\"loader\"></div>\n            <h2 style={{color:\"white\"}}>Loading...</h2>\n          </div> \n          : \n          (showCart \n            ? \n            <>\n            <span className=\"home-button noselect\" onClick={() => setShowCart(false)}>Home <FontAwesomeIcon icon={faHome}/></span>\n              <Cart cartItems={cartItems}  addRemoveCartItem={addRemoveCartItem} totalPrice={totalPrice}/>\n            </>\n            :\n            <div class-name=\"search-item-wrapper\" >\n              <div className=\"search-box\">\n                <SearchBox searchChange={onSearchChange} cartItems={cartItems} setShowCart={setShowCart}/>\n              </div>\n              <div className=\"item-container\">\n                <ItemList items={filteredItems} addRemoveCartItem={addRemoveCartItem} cartItems={cartItems}/>\n              </div>\n            </div>\n            \n            )\n          \n        }\n      </div>\n      <span className=\"bg-circle circle-size1\" style={{left:'7vw',top:'20vw'}}></span>\n      <span className=\"bg-circle circle-size3\" style={{right:'10vw',top:'2vw'}}></span>\n      <span className=\"bg-circle circle-size2\" style={{right:'5vw',bottom:'10vw'}}></span>\n      <span className=\"bg-circle circle-size3\" style={{left:'8vw',top:'3vw'}}></span>\n      <span className=\"bg-circle circle-size1\" style={{left:'25vw',bottom:'7vw'}}></span>\n      \n    </div>\n  );\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(App);\n","  \r\nimport { apiCall } from './api/api'\r\nimport * as constants from './constants';\r\n\r\n\r\nexport const addRemoveCart = (mode,item) => (dispatch) => {\r\n  \r\n  if(mode === \"ADD\"){\r\n    dispatch({type: constants.ADD_ITEMS, payload:item})\r\n  }else if(mode === \"REMOVE\"){\r\n    dispatch({type: constants.REMOVE_ITEMS, payload:item})\r\n  }\r\n}\r\n\r\nexport const setSearchField = (text) => ({ type: constants.CHANGE_SEARCHFIELD, payload: text })\r\n\r\nexport const requestItems = () => (dispatch) => {\r\n  dispatch({ type: constants.REQUEST_ITEMS_PENDING })\r\n  apiCall('https://fakestoreapi.com/products')\r\n    .then(data => dispatch({ type: constants.REQUEST_ITEMS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: constants.REQUEST_ITEMS_SUCCESS, payload: error }))\r\n}\r\n\r\n\r\nexport const requestItemById = (id) => (dispatch) => {\r\n  dispatch({ type: constants.REQUEST_ITEMS_PENDING })\r\n  apiCall('https://fakestoreapi.com/products/' + id)\r\n    .then(data => dispatch({ type: constants.REQUEST_ITEMS_SUCCESS, payload: data }))\r\n    .catch(error => dispatch({ type: constants.REQUEST_ITEMS_SUCCESS, payload: error }))\r\n}","import * as constants from './constants';\r\n  \r\n  const initialStateSearch = {\r\n    searchField: ''\r\n  }\r\n  \r\n  export const searchItems = (state=initialStateSearch, action={}) => {\r\n    switch (action.type) {\r\n      case constants.CHANGE_SEARCHFIELD:\r\n        return Object.assign({}, state, {searchField: action.payload})\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n  \r\n  const initialStateItems = {\r\n    items: [],\r\n    isPending: true\r\n  }\r\n  \r\n  export const requestItems = (state=initialStateItems, action={}) => {\r\n    switch (action.type) {\r\n      case constants.REQUEST_ITEMS_PENDING:\r\n        return Object.assign({}, state, {isPending: true})\r\n      case constants.REQUEST_ITEMS_SUCCESS:\r\n        return Object.assign({}, state, {items: action.payload, isPending: false})\r\n      case constants.REQUEST_ITEMS_SUCCESS:\r\n        return Object.assign({}, state, {error: action.payload})\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n\r\n  const initialStateItem = {\r\n    items: [],\r\n    isPending: true\r\n  }\r\n\r\n  export const requestItemById = (state=initialStateItem, action={}) => {\r\n    switch (action.type) {\r\n      case constants.REQUEST_ITEMS_PENDING:\r\n        return Object.assign({}, state, {isPending: true})\r\n      case constants.REQUEST_ITEMS_SUCCESS:\r\n        return Object.assign({}, state, {items: action.payload, isPending: false})\r\n      case constants.REQUEST_ITEMS_SUCCESS:\r\n        return Object.assign({}, state, {error: action.payload})\r\n      default:\r\n        return state\r\n    }\r\n  }\r\n\r\n  const initialStateCart = {\r\n    cartItems: [],\r\n    totalPrice: 0,\r\n  }\r\n\r\n  export const cartItems = (state=initialStateCart, action={}) => {\r\n    switch (action.type) {\r\n      case constants.ADD_ITEMS:\r\n        let idx = state.cartItems.indexOf(action.payload);\r\n        let temp = action.payload;\r\n        if(idx !== -1){\r\n          temp = state.cartItems[idx];\r\n          temp[\"count\"]++;\r\n          return { \r\n            ...state,\r\n            cartItems:  [\r\n              ...state.cartItems.slice(0,idx),\r\n              temp, \r\n              ...state.cartItems.slice(idx+1)\r\n            ],\r\n            totalPrice: state.totalPrice + temp[\"price\"]\r\n          }\r\n        }\r\n        temp[\"count\"] = 1;\r\n        return { \r\n          ...state,\r\n          cartItems: [...state.cartItems, temp],\r\n          totalPrice: state.totalPrice + temp[\"price\"]\r\n        }\r\n      case constants.REMOVE_ITEMS:\r\n        let remove_idx = state.cartItems.indexOf(action.payload);\r\n        let remove_temp = action.payload;\r\n        if(remove_temp[\"count\"] > 1){\r\n          remove_temp[\"count\"]--;\r\n          return { \r\n            ...state,\r\n            cartItems: [\r\n              ...state.cartItems.slice(0,remove_idx), \r\n              remove_temp,\r\n              ...state.cartItems.slice(remove_idx+1)\r\n            ],\r\n            totalPrice: state.totalPrice - remove_temp[\"price\"]\r\n          }\r\n        }else{\r\n          return { \r\n            ...state,\r\n            cartItems: [\r\n              ...state.cartItems.slice(0,remove_idx), \r\n              ...state.cartItems.slice(remove_idx+1)\r\n            ],\r\n            totalPrice: state.totalPrice - remove_temp[\"price\"]\r\n         }\r\n        }\r\n        \r\n      default:\r\n        return state\r\n    }\r\n  }","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Containers/App';\n\nimport {Provider, connect} from 'react-redux';\nimport {createStore,combineReducers, applyMiddleware} from 'redux';\nimport {searchItems, requestItems, requestItemById, cartItems } from './reducers';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\n\nconst logger = createLogger() \nconst rootReducer = combineReducers({searchItems, requestItems, requestItemById, cartItems});\n\nconst store = createStore(rootReducer, applyMiddleware(thunkMiddleware, logger));\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,  \n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}